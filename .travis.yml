language: rust

cache: cargo
before_cache:
  - rm -rf "$TRAVIS_HOME/.cargo/registry/src"

rust:
  - stable

script:
  - cargo build --verbose --all
  - cargo test --verbose --all

deploy:
  provider: cargo
  api_key: $OAUTH_KEY
  on:
    tags: true